From 16eefa99fc780d44f9757c1c0c279e768ccb9855 Mon Sep 17 00:00:00 2001
From: Haikel Guemar <hguemar@fedoraproject.org>
Date: Thu, 11 Aug 2016 16:48:28 +0200
Subject: [PATCH] Add suds.reader.DocumentReader compat methods with 0.6
 release

This is required to support oslo.vmware unit tests
---
 suds/reader.py | 9 ++++++++-
 1 file changed, 8 insertions(+), 1 deletion(-)

diff --git a/suds/reader.py b/suds/reader.py
index 1454c34..d3f2d09 100644
--- a/suds/reader.py
+++ b/suds/reader.py
@@ -58,7 +58,7 @@ class Reader(object):
         @rtype: str
 
         """
-        h = md5(name.encode()).hexdigest()
+        h = md5(str(name).encode()).hexdigest()
         return '%s-%s' % (h, x)
 
 
@@ -194,3 +194,10 @@ class DocumentReader(Reader):
         content = ctx.document
         sax = suds.sax.parser.Parser()
         return sax.parse(string=content)
+
+    # compat methods with 0.6
+    def download(self, url):
+        return self.__fetch(self, url)
+
+    def cache(self):
+        return self.__cache(self)
-- 
2.9.0

